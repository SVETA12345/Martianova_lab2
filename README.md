# Tablecrm

## Про проект


## Фреймворки/библиотеки

В этом разделе перечислены все основные фреймворки/библиотеки, используемые для начальной загрузки проекта.

* Node.js
* React.js

## Начало работы

Чтобы запустить локальную копию, выполните следующие действия.
### Установка
1. Клонируем репозиторий себе на компьютер через Visual Studio Code (HTTPS).
2. Создаём файл .env в корневой папке. Примером того, что должно находится в файле .env служит .env.example.
3. Устанавливаем необходимые пакеты в корневой папке:
* npm
  ```sh
  npm install
  ```
4. Собираем проект в корневой папке:
* npm
  ```sh
  npm run build
  ```
5. Загружаем изменения в amoCrm:
* npm
  ```sh
  npm run upload
  ```    
6. В результате сборки проекта на 4 этапе у нас получится папка dist и архив widget.zip. Если в amoCrm изменения не видны, то необходимо вручную вставить в амоМаркет архив widget.zip.

### Сборка проекта с изменениями
1. Переходим в папку react. Устанавливаем необходимые пакеты:
* npm
  ```sh
  npm install
  ```
2. Собираем проект в папке react:
* npm
  ```sh
  npm run build
  ```
3. В результате сборки проекта появится папка build. В ней находим папку static и копируем её содержимое (папка js и папка css).
4. Переходим в корневую папку. Удаляем содержимое внутри папки src/lib и вставляем туда то, что мы скопировали на 3 этапе.
5. Переходим в файл src/script.js. Там находим переменную  js_file и меняем её на то, что мы получили на 4 этапе.
6. Собираем проект в корневой папке:
* npm
  ```sh
  npm run build
  ```
7. Загружаем изменения в amoCrm:
* npm
  ```sh
  npm run upload
  ```    
8. В результате сборки проекта на 6 этапе у нас получится папка dist и архив widget.zip. Если в amoCrm изменения не видны, то необходимо вручную вставить в амоМаркет архив widget.zip.
